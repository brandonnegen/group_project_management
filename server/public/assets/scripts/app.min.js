/*! group_project_management 2015-07-31 */
function checkTeam(){for(var a=!1,b=!1,c=!1,d=0;d<wholeTeam.length;d++)"Front End"==wholeTeam[d].employeeSkill&&(a=!0),"Serverside Logic"==wholeTeam[d].employeeSkill&&(b=!0),"Clientside Logic"==wholeTeam[d].employeeSkill&&(c=!0);a&&b&&c||addEmployee(),calcSprints()}function addEmployee(){$.ajax({url:"/employee-request",success:function(a){empObj=a,console.log(empObj),wholeTeam.push(empObj),$(".employee-header").html("Employees assigned to project:"),$(".employees").append('<div class="an-employee">'+empObj.employeeName+": "+empObj.employeeSkill+" Scrum Score: "+empObj.employeeScrumNum+"</div>"),$(".add-employee").show()},complete:function(){console.log(wholeTeam),checkTeam()}})}function calcSprints(){for(var a=0,b=0,c=0,d=0;d<wholeTeam.length;d++)"Front End"==wholeTeam[d].employeeSkill&&(a+=wholeTeam[d].employeeScrumNum),"Serverside Logic"==wholeTeam[d].employeeSkill&&(b+=wholeTeam[d].employeeScrumNum),"Clientside Logic"==wholeTeam[d].employeeSkill&&(c+=wholeTeam[d].employeeScrumNum);var e=Math.ceil(project.frontend/a),f=Math.ceil(project.clientside/b),g=Math.ceil(project.serverside/c),h=Math.max(e,f,g);$(".sprints").html("<h2>Sprints required for project completion: "+h+"</h2>")}function makeName(){var a=["Desolate","Hungry","Amplified","Silly","Urgent","Cold","Ample","Tiny","Peaceful","Beloved","Vast","Forlorn"],b=["Mountain","Ocean","Market","Mark","District","Solutions","Window","Coffee","Pancake","Town","Tacos","Mall","Highway"],c=Math.floor(Math.random()*a.length),d=Math.floor(Math.random()*b.length);return a[c]+" "+b[d]}$(document).ready(function(){$(".gen-project").on("click",function(){wholeTeam=[],$(".employee-header").html(""),$(".employees .an-employee").remove(),$(".add-employee").hide(),$(".sprints").html(""),project={name:makeName(),frontend:randomNum(),clientside:randomNum(),serverside:randomNum()},$(".project").html(""),$(".project").append('<div class="proj-name"><h2>Company Name: '+project.name+"</h2></div>"),$(".project").append('<div class="skill">Front End Scrum Need: '+project.frontend+"</div>"),$(".project").append('<div class="skill">Clientside Scrum Need: '+project.clientside+"</div>"),$(".project").append('<div class="skill">Serverside Scrum Need: '+project.serverside+"</div>"),$(".project").append('<button class="btn btn-info assign-staff">Assign Staff</button>'),console.log(project)}),$("body").on("click",".assign-staff",function(){addEmployee()}),$(".add-employee").on("click",function(){addEmployee()})});var wholeTeam=[],project={},randomNum=function(){return Math.floor(51*Math.random()+10)};